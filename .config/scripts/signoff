#!/bin/env bash
export SUDO_ASKPASS=/home/albi/.config/scripts/rofi_passphrase
typeset -A menu
menu=(
  [ğŸ›Œ Shutdown]="systemctl poweroff"
  [â™»ï¸ Reboot]="systemctl reboot"
  [ğŸ» Hibernate]="systemctl hibernate"
  [ğŸ˜ª Suspend]="systemctl suspend"
  [ğŸ›‘ Halt]="systemctl halt"
  [ğŸ”’ Lock]="slock"
  [ğŸšª Logout]="pkill dwm"
  [âŒ Cancel]=""
)
menu_nrows=${#menu[@]}
ROFI="rofi -dmenu -i -l ${menu_nrows} -p Signoff"
selection="$(printf '%s\n' "${!menu[@]}" | sort | ${ROFI})"
if [[ $? -eq 0 && ! -z ${selection} ]]; then
  exec ${menu[${selection}]}
fi
